import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import { unsafeSVG } from "lit-html/directives/unsafe-svg.js";

<Meta
  title="Examples/Organizational Structure "
  parameters={{
    controls: { hideNoControlsWarning: true },
  }}
/>

# f-lineage

<br />
<br />

### [Playground](/story/components-f-lineage--playground)

<Canvas>
  <Story
    name="Playground"
    argTypes={{
      direction: {
        control: "select",
        options: ["horizontal", "vertical"],
      },
      templateData: {
        control: "object",
      },
      padding: {
        control: "number",
      },
      gap: {
        control: "number",
      },
      ["node-size"]: {
        control: "object",
      },
      ["children-node-size"]: {
        control: "object",
      },
      ["max-children"]: {
        control: "number",
      },
    }}
    args={{
      direction: "horizontal",
      nodes: {
        root: {
          templateData: {
            fullName: "Carey McLaughlin",
            designation: "Vice President",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
        },
        hr: {
          templateData: {
            fullName: "Angelena Doyle",
            designation: "Director Human Resources",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
        },
        am: {
          templateData: {
            fullName: "Max Oliver",
            designation: "Director Accounting",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
        },
        mo: {
          templateData: {
            fullName: "Aubree Matthews",
            designation: "Director Marketing",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
        },
        "mo-tl1": {
          templateData: {
            fullName: "Anastasia Day",
            designation: "Team Lead",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
          children: {
            ["mo-tl1-1"]: {
              templateData: {
                fullName: "Whitney Lambert",
              },
            },
            ["mo-tl1-2"]: {
              templateData: {
                fullName: "Jennifer Pearson",
              },
            },
            ["mo-tl1-3"]: {
              templateData: {
                fullName: "Lark Motley",
              },
            },
          },
          hideChildren: false,
        },
        "mo-tl2": {
          templateData: {
            fullName: "Osmond Wise",
            designation: "Team Lead",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
          children: {
            ["mo-tl2-1"]: {
              templateData: {
                fullName: "Adele Green",
              },
            },
            ["mo-tl2-2"]: {
              templateData: {
                fullName: "Lawrence Potter",
              },
            },
            ["mo-tl2-3"]: {
              templateData: {
                fullName: "Darlene Holden",
              },
            },
          },
          hideChildren: false,
        },
        de: {
          templateData: {
            fullName: "Ben Stokes",
            designation: "Director Engineering",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
        },
        tl1: {
          templateData: {
            fullName: "Aaron Verler",
            designation: "Team Lead",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
          children: {
            ["tl1-1"]: {
              templateData: {
                fullName: "Max Furry",
              },
            },
            ["tl1-2"]: {
              templateData: {
                fullName: "Steve Roger",
              },
            },
            ["tl1-3"]: {
              templateData: {
                fullName: "Tony Stark",
              },
            },
          },
          hideChildren: false,
        },
        tl2: {
          templateData: {
            fullName: "Bruce Banner",
            designation: "Team Lead",
            mobile: "+1 123 456 000",
            email: "abc@xyz.com",
          },
          children: {
            ["tl2-1"]: {
              templateData: {
                fullName: "Celeste Waters",
              },
            },
            ["tl2-2"]: {
              templateData: {
                fullName: "Jeffrey Bell",
              },
            },
            ["tl2-3"]: {
              templateData: {
                fullName: "Mona Hancock",
              },
            },
          },
          hideChildren: false,
        },
      },
      links: [
        {
          from: "root",
          to: "hr",
        },
        {
          from: "root",
          to: "am",
        },
        {
          from: "root",
          to: "mo",
        },
        {
          from: "root",
          to: "de",
        },
        {
          from: "mo",
          to: "mo-tl1",
        },
        {
          from: "mo",
          to: "mo-tl2",
        },
        {
          from: "de",
          to: "tl1",
        },
        {
          from: "de",
          to: "tl2",
        },
      ],
      padding: 16,
      gap: 100,
      ["node-size"]: { width: 250, height: 115 },
      ["children-node-size"]: { width: 250, height: 32 },
      ["max-children"]: 8,
      ["node-template"]: /*html*/ `<f-div
        state="secondary"
        width="100%"
        height="100%"
        padding="medium"
        align="top-left"
        variant="curved"
		gap="x-small"
		direction="column"
        \${node.children && !node.hideChildren ? 'border="small solid default bottom"' : ""}
      >
	  	<f-div height="hug-content">
	  		<f-text variant="heading" size="medium">\${node.templateData.designation}</f-text>
			\${node.childrenToggle}
		</f-div>
		<f-div height="hug-content" gap="small">
			<f-pictogram source="i-user" state="success" size="large" variant="circle"></f-pictogram>
			<f-div direction="column" height="hug-content" align="middle-left">
				<f-text  ellipsis>\${node.templateData.fullName}</f-text>
				<f-div padding="x-small none none none">
					<f-text size="small" ellipsis>Mobile No : \${node.templateData.mobile}</f-text>
				</f-div>
				<f-div padding="x-small none none none">
					<f-text size="small" ellipsis>Email : \${node.templateData.email}</f-text>
				</f-div>
			</f-div>
		</f-div>
      </f-div>`,
      ["children-node-template"]: /*html*/ `<f-div
          state="secondary"
          width="100%"
          height="100%"
          padding="none medium"
          align="middle-left"
          gap="small"
          border="small solid default bottom"
        >
          <f-icon source="i-user" size="small"></f-icon>
          <f-text variant="code" size="medium" ellipsis>\${node.templateData.fullName}</f-text>
        </f-div>`,
    }}
  >
    {(args) => {
      //  const templateData = lineageDataGenerator();
      return html`<f-lineage
        .direction=${args.direction}
        .nodes=${args.nodes}
        .links=${args.links}
        .padding=${args.padding}
        .gap=${args.gap}
        .node-size=${args["node-size"]}
        .children-node-size=${args["children-node-size"]}
        .max-children=${args["max-children"]}
        .node-template=${args["node-template"]}
        .children-node-template=${args["children-node-template"]}
      ></f-lineage>`;
    }}
  </Story>
</Canvas>
