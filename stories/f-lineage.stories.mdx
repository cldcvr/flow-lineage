import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import { unsafeSVG } from "lit-html/directives/unsafe-svg.js";
import lineageDataGenerator from "./lineage-data-generator.ts";

<Meta
  title="Components/f-lineage"
  parameters={{
    controls: { hideNoControlsWarning: true },
  }}
/>

# f-lineage

<br />
<br />

## Overview

<f-div direction="column" gap="x-small" height="hug-content">
  <f-icon-button icon="i-delete" type="transparent"></f-icon-button>
  <f-icon-button icon="i-edit" type="transparent"></f-icon-button>
</f-div>

f-lineage to display nodes and connections.

<br />

### [Playground](/story/components-f-lineage--playground)

<Canvas>
  <Story
    name="Playground"
    argTypes={{
      direction: {
        control: "select",
        options: ["horizontal", "vertical"],
      },
      data: {
        control: "object",
      },
      padding: {
        control: "number",
      },
      gap: {
        control: "number",
      },
      ["node-size"]: {
        control: "object",
      },
      ["children-node-size"]: {
        control: "object",
      },
      ["max-childrens"]: {
        control: "number",
      },
    }}
    args={{
      direction: "horizontal",
      padding: 16,
      gap: 100,
      ["node-size"]: { width: 200, height: 52 },
      ["children-node-size"]: { width: 200, height: 32 },
      ["max-childrens"]: 8,
      ["node-template"]: `<f-div
        state="secondary"
        width="100%"
        height="100%"
        padding="none medium"
        align="middle-left"
        variant="curved"
        gap="small"
        \${node.children ? 'border="small solid default bottom"' : ""}
      >
        <f-icon source="i-user" size="medium"></f-icon>
        <f-div direction="column" height="hug-content" align="middle-left">
          <f-text variant="code" size="large" ellipsis>\${node.id}</f-text>
          <f-text variant="code" size="small" ellipsis
            >x: \${node.x}, y: \${node.y}</f-text
          >
        </f-div>
      </f-div>`,
      ["children-node-template"]: `<f-div
          state="secondary"
          width="100%"
          height="100%"
          padding="none medium"
          align="middle-left"
          gap="small"
          border="small solid default bottom"
        >
          <f-icon source="i-hashtag" size="small"></f-icon>
          <f-text variant="code" size="medium" ellipsis>\${node.id}</f-text>
        </f-div>`,
      links: [
        {
          from: "SuperRootBrother",
          to: "Root",
        },
        {
          from: "SuperRoot",
          to: "Root",
        },
        {
          from: "Calvin",
          to: "Hansen",
        },
        {
          from: "Brooke",
          to: "Tamara",
        },
        {
          from: "Calvin",
          to: "Bradley",
        },
        {
          from: "Tamara",
          to: "Bradley",
        },
        {
          from: "Root",
          to: "Cldcvr",
        },
        {
          from: "Root",
          to: "Brooke",
        },
        {
          from: "Bradley",
          to: "John",
        },
        {
          from: "Bradley",
          to: "Tim",
        },
        {
          from: "Bradley",
          to: "Sam",
        },
        {
          from: "Bradley",
          to: "Rex",
        },
        {
          from: "Cldcvr",
          to: "Calvin",
        },
        {
          from: "Root",
          to: "Flow",
        },
        {
          from: "Flow",
          to: "Codepipes",
        },
        {
          from: "Codepipes",
          to: "John",
        },
        {
          from: "child1",
          to: "Tim",
        },
      ],
      nodes: {
        Calvin: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Calvin",
          },
          children: [
            {
              id: "child1",
            },
            {
              id: "child2",
            },
            {
              id: "child3",
            },
            {
              id: "child4",
            },
            {
              id: "child5",
            },
            {
              id: "child6",
            },
            {
              id: "child7",
            },
            {
              id: "child8",
            },
            {
              id: "child9",
            },
            {
              id: "child10",
            },
            {
              id: "child11",
            },
            {
              id: "child12",
            },
            {
              id: "child13",
            },
            {
              id: "child14",
            },
            {
              id: "child15",
            },
            {
              id: "child16",
            },
          ],
        },
        Hansen: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Hansen",
          },
          children: [
            {
              id: "hchild1",
            },
          ],
        },
        Flow: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Flow",
          },
        },
        Codepipes: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Codepipes",
          },
        },
        Brooke: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Brooke",
          },
        },
        Tamara: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Tamara",
          },
        },
        Bradley: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Bradley",
          },
        },
        Cldcvr: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Cldcvr",
          },
        },
        SuperRoot: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "SuperRoot",
          },
        },
        SuperRootBrother: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "SuperRootBrother",
          },
        },
        Root: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Cldcvr",
          },
        },
        John: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "John",
          },
        },
        Tim: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Tim",
          },
        },
        Sam: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Sam",
          },
        },
        Rex: {
          data: {
            email: "abc@cldcvr.com",
            mobile: "+91-12345 67890",
            name: "Rex",
          },
        },
      },
    }}
  >
    {(args) => {
      //  const data = lineageDataGenerator();
      return html`<f-lineage
        .direction=${args.direction}
        .padding=${args.padding}
        .gap=${args.gap}
        .node-size=${args["node-size"]}
        .children-node-size=${args["children-node-size"]}
        .max-childrens=${args["max-childrens"]}
        .node-template=${args["node-template"]}
        .children-node-template=${args["children-node-template"]}
        .links=${args.links}
        .nodes=${args.nodes}
      ></f-lineage>`;
    }}
  </Story>
</Canvas>

<br />

<ArgsTable of={"f-lineage"} />
